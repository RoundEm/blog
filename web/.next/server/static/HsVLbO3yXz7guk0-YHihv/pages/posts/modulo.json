{"pageProps":{"_createdAt":"2020-04-24T20:22:34Z","_id":"385ac980-9d22-4895-a15a-c036c6850d66","_rev":"Z8JDdbMc0K5i1bCok3gGTN","_type":"post","_updatedAt":"2020-05-19T18:30:43Z","author":{"_ref":"d180d7d0-70e0-4c44-9eeb-b2e892fe26a9","_type":"reference"},"body":[{"_key":"bb9bb38b3920","_type":"block","children":[{"_key":"bb9bb38b39200","_type":"span","marks":[],"text":"I was recently watching a video from React Conf 2018 where Ryan Florence is demonstrating React Hooks (see "},{"_key":"bb9bb38b39201","_type":"span","marks":["2247142fd717"],"text":"90% Cleaner React With Hooks"},{"_key":"bb9bb38b39202","_type":"span","marks":[],"text":") and about 13 minutes into the talk, as Ryan is writing some code for an image carousel, he implements a cool technique of utilizing the modulo operator (%) to cycle through the images in a very slick and concise manner. I recalled noticing the same type of technique pop-up a couple of times before when I was reviewing other Codewars users’ answers to code challenges that I completed, and at the time I didn't really pause to try and understand how the technique was working, but I could definitely see that it made their code much more sleek and elegant than my feeble solutions. During the part of Ryan's talk where he writes this magical modulo-based code he jokingly adds a code comment stating that he got the technique from Stack Overflow and that it shouldn't be trusted (which is not only funny but also the type of honest code comment that more of us should probably admit to), and while I'm sure Ryan understands perfectly well how that technique works it finally gave me the motivation to dig in and figure out how this sourcery was working."}],"markDefs":[{"_key":"2247142fd717","_type":"link","href":"https://www.youtube.com/watch?v=wXLf18DsV-I"}],"style":"normal"},{"_key":"371e69a1e1c3","_type":"block","children":[{"_key":"371e69a1e1c30","_type":"span","marks":[],"text":"As most developers soon discover upon learning the arithmetic operators of their first programming language, the modulo operator allows you to find the remainder of one number being divided by another. I should mention that I'm somebody that's always been a smidge on the mathematically challenged side, and upon first learning about the modulo operator I never really considered what the background of it was and what other use cases there are for using it aside from doing simple maths and determining if a number was odd or even. Turns out I was missing the essence of the modulo operator."}],"markDefs":[],"style":"normal"},{"_key":"ca8e91b9e3dc","_type":"block","children":[{"_key":"ca8e91b9e3dc0","_type":"span","marks":[],"text":"For some quick history, modulo comes from modular arithmetic, which according to Wikipedia, “is a system of arithmetic for integers, where numbers ‘wrap around’ upon reaching a certain value”, and that value is referred to as the modulus. A common example is a 12-hour clock where the modulus is 12, and upon reaching 12 the time “wraps around” and starts over again at 0. So if you wanted to calculate what time it would be 5 hours from 10 (and assuming that you’re not using military time's 24 hour clock) you wouldn’t just add the two numbers together, you would add 2 to get to 12 and then add 3 to get to 3 o’clock, or in a mathematical or programming context you could write it out as 15 % 12 = 3, since 12 can only be divided into 15 once, leaving a remainder of 3. Or, if you wanted to know what time it is 5 hours from 6 you wouldn't need to do any extra math in your head since you're likely to know that 6 + 5 = 11 and 11 is less than 12, but the same principle can be represented as 11 % 12 = 11. In other words, anytime the number on the left/top of the modulo (the dividend) is less than the number to the right/bottom (the divisor), the remainder is going to be equal to the dividend. When the dividend is higher than the divisor, the result will always be a value between 1 and the divisor minus 1. If the two sides are the same or the dividend can be divided evenly by the divisor, then the result will be 0, which serves as a sort of fulcrum upon which the cycle begins anew. Here’s an example that should illuminate the type of pattern that modules create (pretend we have a 3 hour clock instead of 12 hour clock):"}],"markDefs":[],"style":"normal"},{"_key":"c790a365f674","_type":"post_aside","str_content_newline":"1 % 3 = 1\n2 % 3 = 2\n3 % 3 = 0\n4 % 3 = 1\n5 % 3 = 2\n6 % 3 = 0\nand so on…"},{"_key":"1b8372cc1eac","_type":"block","children":[{"_key":"1b8372cc1eac0","_type":"span","marks":[],"text":"This pattern-based behavior of modular arithmetic allows us to do some cool things in math and programming."}],"markDefs":[],"style":"normal"},{"_key":"32956fa9490b","_type":"block","children":[{"_key":"32956fa9490b0","_type":"span","marks":[],"text":"One discipline that modulo is used heavily in is cryptography, or the technique and study of securely encoding and decoding information and messages. For instance, here’s a very basic form of cryptography known as "},{"_key":"32956fa9490b1","_type":"span","marks":["7a6087797dde"],"text":"Ceaser’s Cipher,"},{"_key":"32956fa9490b2","_type":"span","marks":[],"text":" which uses modulo to cycle through letters in the english alphabet and encode a given string of characters into a new lowercase string with each letter shifted to the right in the alphabet by a given number of characters, while ignoring any non-alphabetic characters:"}],"markDefs":[{"_key":"7a6087797dde","_type":"link","href":"https://en.wikipedia.org/wiki/Caesar_cipher"}],"style":"normal"},{"_key":"e999d3b83024","_type":"code","code":"const ceasarCipherEncodeLower = (string, shiftBy) => {\r\n  const alpha = \"abcdefghijklmnopqrstuvwxyz\"\r\n  return string.replace(/[a-z]/gi, letterToShift => {\r\n    return alpha[(\r\n      alpha.indexOf(\r\n        letterToShift.toLowerCase()\r\n      ) + shiftBy) % 26]\r\n  })\r\n}\r\nceasarCipherEncodeLower('aBcFe', 4) // 'efghi' \r\nceasarCipherEncodeLower('xyz', 3) // 'abc' \r\nceasarCipherEncodeLower('X Y#z', 29) // 'a b#c' ","language":"javascript"},{"_key":"8c3fe0799cb7","_type":"block","children":[{"_key":"8c3fe0799cb70","_type":"span","marks":[],"text":"This function takes the alphabetic index of the given letters and finds the modulo of it compared to 26 (since that’s the number of characters in the english alphabet). To decode a message encoded with Ceaser’s Cipher, the recipient (or perhaps a spy) would just need to know (or decipher) the algorithm or pattern used to encode it, which in this case is how many letters of the alphabet the characters are being shifted and in what direction. Of course, Ceasar’s Cipher was conjured up well before the advent of computers and these days you probably wouldn’t want to use it for encoding anything more important than a grade school love letter, but there are many, much more sophistcated uses for modulo in fields like cryptography and mathematics. The modulo can also be used for more rudimentary purposes in everyday web development and programming. For an example, let's bring it back to the technique Ryan Florence used and pretend that we have a carousel component with buttons that you can click to cycle backwards and forwards though each of the carousel images. You may initially attempt to write some code that checks the index of the current image against the total length of the list of images and if the index is greater than the list length then set the index back to the start of the list, otherwise increment it by one image. Coding it like this doesn’t sounds terribly bad, but it could become a little cumbersome, particularly when you have a list of images where the number of images in the list isn’t always static. Instead of calculating things manually according to a specific list length you can use modulo to do the hard work for you and cycle through that list in a predictable and elegant way, regardless of how many images end up in the carousel over time. For instance, you could use the following logic (examples in JavaScript) to update the index that determines what image is being shown (assume the function that updates the state is called \"setIndex\"):"}],"markDefs":[],"style":"normal"},{"_key":"2fb3daffc18e","_type":"code","code":"// Cycle backwards one index at a time:\nsetIndex((index - 1 + array.length) % array.length)\n\n// Cycle forwards one index at a time:\nsetIndex((index + 1) % array.length)","language":"javascript"},{"_key":"adccb50c8ae8","_type":"block","children":[{"_key":"adccb50c8ae80","_type":"span","marks":[],"text":"If, instead of cycling through one index at a time, you'd like to cycle through by a different number you can simply replace \"1\" with the number of indexes you would like to jump."}],"markDefs":[],"style":"normal"},{"_key":"3e9783ce2e86","_type":"block","children":[{"_key":"3e9783ce2e860","_type":"span","marks":[],"text":"For my last, and albeit slightly contrived, example of using modulo - Imagine a world or time when the CSS pseudo-selector \":nth-of-type()\" didn't exist and you wanted to add a class with a background-color to every nth element in a list. You could write a function similar to the following example to do the same type of thing:"}],"markDefs":[],"style":"normal"},{"_key":"a3a28d570271","_type":"code","code":"const addClassToEveryNthElement = (elementList, className, divisor) => {\r\n  elementList.forEach((elem, i) => {\r\n    if (i % divisor === 0) {\r\n      elementList[i].classList.add(className)\r\n    }\r\n  })\r\n}\r\nconst listItems = document.querySelectorAll('li')\r\n// give every fourth list item the `bg-blue` class\r\naddClassToEveryNthElement(listItems, 'bg-blue', 4) ","language":"javascript"},{"_key":"c884b06db5ed","_type":"block","children":[{"_key":"c884b06db5ed0","_type":"span","marks":[],"text":"I'm sure there's plenty of other creative ideas for using the modulo operator in everyday programming that I haven't touched on here, but if you're a novice like me hopefully you've gained some new appreciation for the some of the cool things you can do with modulos!"}],"markDefs":[],"style":"normal"}],"manual_pub_date":"2020-05-17","published":true,"slug":{"_type":"slug","current":"modulo"},"tags":[{"_key":"b7b598ede8f4","_ref":"02c02279-58e4-4a85-ae18-a14bd5c00134","_type":"reference"},{"_key":"0a82ab3409b3","_ref":"a9177398-2bbb-4a88-a55a-17b13a72e2bf","_type":"reference"}],"title":"The Elegance of the Modulo Operator"},"__N_SSG":true}