{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport client from '../../client';\nimport HeaderLayout from '../../components/HeaderLayout';\nimport styled from 'styled-components';\nimport moment from 'moment';\nvar P = styled.p.withConfig({\n  displayName: \"slug__P\",\n  componentId: \"sc-1e354jq-0\"\n})([\"margin-top:1.5em;\"]);\n\nfunction Post(props) {\n  return __jsx(HeaderLayout, null, __jsx(\"article\", null, __jsx(\"h2\", null, props.title), __jsx(P, null, moment.utc(props._createdAt).format(\"LL\")), __jsx(P, null, props.description), __jsx(P, null, props.body)));\n}\n\nPost.getInitialProps = function _callee(context) {\n  var _context$query$slug, slug, data;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          // default the slug so that it doesn't return \"undefined\"\n          // console.log('context: ', context)\n          _context$query$slug = context.query.slug, slug = _context$query$slug === void 0 ? \"\" : _context$query$slug;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(client.fetch(\"\\n        *[_type == \\\"post\\\" && slug.current == $slug][0]\\n    \", {\n            slug: slug\n          }));\n\n        case 3:\n          data = _context.sent;\n          return _context.abrupt(\"return\", data);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}